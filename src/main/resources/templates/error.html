<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments :: head"></head>

<body>
<nav th:replace="fragments :: nav"></nav>

<div id="errorInfo">
    <h1 class="center-align">This is a error page</h1>
</div>


<footer th:replace="fragments :: footer"></footer>

<script
        src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous">
</script>
<script th:inline="javascript">
    var errorType = [[${errorType}]]
    $(document).ready(function () {

        var $notLoginInfo = $("<h3 class='center-align'>未登录, 5s后自动跳转至登录页面......</h3>")

        var errorInfo = $("#errorInfo")
        if (errorType == null) {

            errorInfo.append($notLoginInfo)
            setTimeout(function () {
                $(location).attr("href", "/user/login")
            }, 5000)
            return;
        }

        switch (errorType) {
            case "not login":
                errorInfo.append($notLoginInfo)
                setTimeout(function () {
                    $(location).attr("href", "/user/login")
                }, 5000)
        }

    })

</script>
</body>

</html>
